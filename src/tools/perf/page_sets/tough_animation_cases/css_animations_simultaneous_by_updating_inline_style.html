<!DOCTYPE html>
<meta name="viewport" content="width=device-width, user-scalable=no">
<link rel="stylesheet" type="text/css" href="resources/animation.css">
<link rel="stylesheet" type="text/css" href="resources/tablet.css">
<script src="resources/perf_test_helper.js"></script>

<container id="container"></container>

<script>
var N = PerfTestHelper.getN(1000);
var duration = 1000;

for (var i = 0; i < N; i++) {
  var target = document.createElement('target');
  container.appendChild(target);
}

var anim = 0;
function startAllAnimations() {
  anim++;
  for (var i = 0; i < container.childNodes.length; i++) {
    container.childNodes[i].style.webkitAnimationName = (anim % 2 ? '' : 'reverse-') + 'anim';
  }
}

startAllAnimations();
setInterval(startAllAnimations, duration);

PerfTestHelper.signalReady();
</script>
