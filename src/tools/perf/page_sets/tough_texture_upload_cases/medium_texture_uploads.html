<!DOCTYPE html>
<html>
  <head><title>Large texture upload test.</title></head>
  <script src="texture_upload_experiment.js"></script>
  <body>
    <canvas id="example" width=512 height=512></canvas>
    <script type="text/javascript">
      document.body.style.margin = "0";
      document.body.style.webkitAnimationName = "texture-upload";
      document.body.style.webkitAnimationDuration = "10s";
      document.body.style.webkitAnimationIterationCount = "infinite";
      document.body.style.webkitAnimationDirection = "alternate";

      function startExperiment() {
        var canvas = document.getElementById("example");
        var gl = canvas.getContext("webgl");
        var dimension = Math.min(gl.getParameter(gl.MAX_TEXTURE_SIZE), 1024);

        DoTextureUploadBenchmark(gl, dimension);
      }

      window.addEventListener('load', startExperiment, false);
    </script>
  </body>
</html>
